<section (mouseover)="onHoverOverBank(true)" (mouseleave)="onHoverOverBank(false)" [ngStyle]="{'font-size': fontSizeFactor + 'px', 'height': containerSize + 'px'}" isScrolling>

  <!-- BANK ONE -->
  <div class="drop-disappear-top"><div class="drop-disappear-top-child"></div></div>
  <div 
    class="dropdown dropdown-one" 
    [ngStyle]="{'height': piecesDropdownHeight1}"
    (click)="checkToDisplayStatic(1)">

    <div class="drop-toggle drop-toggle-one">
      <div>Open Layer One Pieces</div>
      <svg *ngIf="!displayBankOne" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
      <svg *ngIf="displayBankOne" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"/></svg>
    </div>

    <div 
      id="piece-bank-one"
      class="droplist droplist-one"
      [ngClass]="{'droplist-open': displayBankOne}"
      [ngStyle]="{'cursor': checkIsDraggingForBank(1), 'height': piecesDroplistHeight1}"
      stopPropo
      cdkDropList
      cdkDropListSortingDisabled
      [cdkDropListConnectedTo]="['dl-one-0', 'dl-one-1', 'dl-one-2', 'dl-one-3', 'dl-one-4', 'dl-one-5', 'dl-one-6', 'dl-one-7', 'dl-one-8', 'dl-one-9']"
      [cdkDropListData]="piecesBank1"
      (cdkDropListDropped)="dropped($event)">
      
      <div [ngStyle]="{'display': displayBankOne || displayBankOneTemporary ? 'block': 'none'}">
        <div class="bank-pieces bank-pieces-one" [ngClass]="{'bank-pieces-open-one': isDraggingIncoming1 && isHoveringOverBank}"> 

          <div 
            class="piece piece-one piece-bank" 
            *ngFor="let piece of piecesBank1; let i = index"
            [ngStyle]="{'cursor': !isDragging2 && !isDragging3 ? 'grab' : 'not-allowed'}"
            cdkDrag
            (cdkDragStarted)="dragStarted(1)"
            (cdkDragEnded)="dragEnded(1)"> 

            <div *ngIf="displayColorLetters; else noLetterOne">
              <span [ngClass]="{ 'green': piece.top === 'G', 'orange': piece.top === 'O', 'purple': piece.top === 'P' }">{{ piece.top }}</span>
              <br>
              <span [ngClass]="{ 'green': piece.left === 'G', 'orange': piece.left === 'O', 'purple': piece.left === 'P' }">{{ piece.left }}</span>
              <span [ngClass]="{ 'green': piece.right === 'G', 'orange': piece.right === 'O', 'purple': piece.right === 'P' }">{{ piece.right }}</span>
              
              <div *cdkDragPreview class="piece piece-one piece-bank" [ngStyle]="{'font-size': fontSizeFactor + 'px'}">
                <span [ngClass]="{ 'green': piece.top === 'G', 'orange': piece.top === 'O', 'purple': piece.top === 'P' }">{{ piece.top }}</span>
                <br>
                <span [ngClass]="{ 'green': piece.left === 'G', 'orange': piece.left === 'O', 'purple': piece.left === 'P' }">{{ piece.left }}</span>
                <span [ngClass]="{ 'green': piece.right === 'G', 'orange': piece.right === 'O', 'purple': piece.right === 'P' }">{{ piece.right }}</span>
              </div>
            </div>

            <ng-template #noLetterOne>
              <span [ngClass]="{ 'green': piece.top === 'G', 'orange': piece.top === 'O', 'purple': piece.top === 'P' }"></span>
              <br>
              <span [ngClass]="{ 'green': piece.left === 'G', 'orange': piece.left === 'O', 'purple': piece.left === 'P' }"></span>
              <span [ngClass]="{ 'green': piece.right === 'G', 'orange': piece.right === 'O', 'purple': piece.right === 'P' }"></span>

              <div *cdkDragPreview class="piece piece-one piece-bank" [ngStyle]="{'font-size': fontSizeFactor + 'px'}">
                <span [ngClass]="{ 'green': piece.top === 'G', 'orange': piece.top === 'O', 'purple': piece.top === 'P' }"></span>
                <br>
                <span [ngClass]="{ 'green': piece.left === 'G', 'orange': piece.left === 'O', 'purple': piece.left === 'P' }"></span>
                <span [ngClass]="{ 'green': piece.right === 'G', 'orange': piece.right === 'O', 'purple': piece.right === 'P' }"></span>
              </div>
            </ng-template>        

          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- BANK TWO -->
  <div 
    class="dropdown dropdown-two" 
    [ngStyle]="{'height': piecesDropdownHeight2}"
    (click)="checkToDisplayStatic(2)">

    <div class="drop-toggle">
      <div>Open Layer Two Pieces</div>
      <svg *ngIf="!displayBankTwo" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
      <svg *ngIf="displayBankTwo" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"/></svg>
    </div>

    <div 
      id="piece-bank-two"
      class="droplist droplist-two"
      [ngClass]="{'droplist-open': displayBankTwo}" 
      [ngStyle]="{'cursor': checkIsDraggingForBank(2), 'height': piecesDroplistHeight2}"
      stopPropo
      cdkDropList
      cdkDropListSortingDisabled
      [cdkDropListConnectedTo]="['dl-two-0', 'dl-two-1', 'dl-two-2', 'dl-two-3', 'dl-two-4', 'dl-two-5', 'dl-two-6', 'dl-two-7', 'dl-two-8', 'dl-two-9']"
      [cdkDropListData]="piecesBank2"
      (cdkDropListDropped)="dropped($event)">

      <div [ngStyle]="{'display': displayBankTwo || displayBankTwoTemporary ? 'block': 'none'}">
        <div class="bank-pieces bank-pieces-two"> <!-- [ngClass]="{'bank-two-pieces-open': isDraggingIncoming2}" -->

          <!-- necessary instead of padding bc this bank is rows AND columns -->
          <div *ngIf="isDraggingIncoming2 && isHoveringOverBank" class="piece-open-two"></div>
          
          <div 
            class="piece piece-two piece-bank" 
            *ngFor="let piece of piecesBank2; let i = index"
            [ngStyle]="{'cursor': !isDragging1 && !isDragging3 ? 'grab' : 'not-allowed'}"
            cdkDrag
            (cdkDragStarted)="dragStarted(2)"
            (cdkDragEnded)="dragEnded(2)"> 

            <div *ngIf="displayColorLetters; else noLetterTwo">
              <span [ngClass]="{ 'green': piece.left === 'G', 'orange': piece.left === 'O', 'purple': piece.left === 'P' }">{{ piece.left }}</span>
              <span [ngClass]="{ 'green': piece.right === 'G', 'orange': piece.right === 'O', 'purple': piece.right === 'P' }">{{ piece.right }}</span>
              <br>
              <span [ngClass]="{ 'green': piece.bottom === 'G', 'orange': piece.bottom === 'O', 'purple': piece.bottom === 'P' }">{{ piece.bottom }}</span>
              
              <div *cdkDragPreview class="piece piece-two piece-bank" [ngStyle]="{'font-size': fontSizeFactor + 'px'}">
                <span [ngClass]="{ 'green': piece.left === 'G', 'orange': piece.left === 'O', 'purple': piece.left === 'P' }">{{ piece.left }}</span>
                <span [ngClass]="{ 'green': piece.right === 'G', 'orange': piece.right === 'O', 'purple': piece.right === 'P' }">{{ piece.right }}</span>
                <br>
                <span [ngClass]="{ 'green': piece.bottom === 'G', 'orange': piece.bottom === 'O', 'purple': piece.bottom === 'P' }">{{ piece.bottom }}</span>
              </div>
            </div>

            <ng-template #noLetterTwo>
              <span [ngClass]="{ 'green': piece.left === 'G', 'orange': piece.left === 'O', 'purple': piece.left === 'P' }"></span>
              <span [ngClass]="{ 'green': piece.right === 'G', 'orange': piece.right === 'O', 'purple': piece.right === 'P' }"></span>
              <br>
              <span [ngClass]="{ 'green': piece.bottom === 'G', 'orange': piece.bottom === 'O', 'purple': piece.bottom === 'P' }"></span>

              <div *cdkDragPreview class="piece piece-two piece-bank" [ngStyle]="{'font-size': fontSizeFactor + 'px'}">
                <span [ngClass]="{ 'green': piece.left === 'G', 'orange': piece.left === 'O', 'purple': piece.left === 'P' }"></span>
                <span [ngClass]="{ 'green': piece.right === 'G', 'orange': piece.right === 'O', 'purple': piece.right === 'P' }"></span>
                <br>
                <span [ngClass]="{ 'green': piece.bottom === 'G', 'orange': piece.bottom === 'O', 'purple': piece.bottom === 'P' }"></span>
              </div>
            </ng-template>

          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- BANK THREE -->
  <div 
    class="dropdown dropdown-three"
    [ngStyle]="{'height': piecesDropdownHeight3}"
    (click)="checkToDisplayStatic(3)">

    <div class="drop-toggle">
      <div style="color: white">Open Layer Three Pieces</div>
      <svg *ngIf="!displayBankThree" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="white" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
      <svg *ngIf="displayBankThree" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="white" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"/></svg>
    </div>

    <div 
      id="piece-bank-three"
      class="droplist droplist-three"
      [ngClass]="{'droplist-open': displayBankThree}" 
      [ngStyle]="{'cursor': checkIsDraggingForBank(3), 'height': piecesDroplistHeight3}"
      cdkDropList
      stopPropo
      cdkDropListSortingDisabled
      [cdkDropListConnectedTo]="['dl-three-0', 'dl-three-1', 'dl-three-2', 'dl-three-3', 'dl-three-4']"
      [cdkDropListData]="piecesBank3"
      (cdkDropListDropped)="dropped($event)">

      <div [ngStyle]="{'display': displayBankThree || displayBankThreeTemporary ? 'block': 'none'}">
        <div class="bank-pieces bank-pieces-three" [ngClass]="{'bank-pieces-open-three': isDraggingIncoming3 && isHoveringOverBank}">
          <div 
            class="piece piece-three piece-bank" 
            *ngFor="let piece of piecesBank3; let i = index"
            [ngStyle]="{'cursor': !isDragging1 && !isDragging2 ? 'grab' : 'not-allowed'}"
            cdkDrag
            (cdkDragStarted)="dragStarted(3)"
            (cdkDragEnded)="dragEnded(3)"> 

            <div *ngIf="displayColorLetters; else noLetterThree">
              <div class="piece-three-container">
                <span [ngClass]="{ 'green': piece.left === 'G', 'orange': piece.left === 'O', 'purple': piece.left === 'P' }">{{ piece.left }}</span>
                <span [ngClass]="{ 'green': piece.right === 'G', 'orange': piece.right === 'O', 'purple': piece.right === 'P' }">{{ piece.right }}</span>
              </div>
              
              <div *cdkDragPreview class="piece piece-three piece-bank" [ngStyle]="{'font-size': fontSizeFactor + 'px'}">
                <div class="piece-three-container">
                  <span [ngClass]="{ 'green': piece.left === 'G', 'orange': piece.left === 'O', 'purple': piece.left === 'P' }">{{ piece.left }}</span>
                  <span [ngClass]="{ 'green': piece.right === 'G', 'orange': piece.right === 'O', 'purple': piece.right === 'P' }">{{ piece.right }}</span>
                </div>
              </div>
            </div>

            <ng-template #noLetterThree>
              <div class="piece-three-container">
                <span [ngClass]="{ 'green': piece.left === 'G', 'orange': piece.left === 'O', 'purple': piece.left === 'P' }"></span>
                <span [ngClass]="{ 'green': piece.right === 'G', 'orange': piece.right === 'O', 'purple': piece.right === 'P' }"></span>
              </div>

              <div *cdkDragPreview class="piece piece-three piece-bank" [ngStyle]="{'font-size': fontSizeFactor + 'px'}">
                <div class="piece-three-container">                  
                  <span [ngClass]="{ 'green': piece.left === 'G', 'orange': piece.left === 'O', 'purple': piece.left === 'P' }"></span>
                  <span [ngClass]="{ 'green': piece.right === 'G', 'orange': piece.right === 'O', 'purple': piece.right === 'P' }"></span>
                </div>
              </div>
            </ng-template>

          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- END OF BANK -->
</section>
